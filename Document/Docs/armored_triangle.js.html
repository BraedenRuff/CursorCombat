<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: armored_triangle.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: armored_triangle.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Class Name: ArmoredTriangle
 * Description: Extends the Triangle class to include armor/health points for additional durability, and requires the player to click to kill. 
 * Manages the health and damage model for armored triangle shapes within the game, including visual representation 
 * of armor levels and handling damage taken by the triangle.
 * Expected Inputs: Click to decrement health points.
 * Expected Outputs: Visual updates to represent current health status, removal of the shape upon depletion of health,
 * and score updates for destroying armored triangles.
 * Called By: Level class loadLevel()->spawnShape().
 * Will Call: Phaser library methods for sprite manipulation and rendering, and custom methods for health management and score updates.
 * @class
 * @author Braeden Ruff
 */

class ArmoredTriangle extends Triangle {
    /**
     * Generates and displays a sprite for the armored triangle based on its current health points.
     * @param {number} healthPoints - The health points of the armored triangle, determining the sprite to display.
     */
    generateSprite(healthPoints) {
        this.healthPoints = healthPoints; // Store the health points.
        let name = "armored_" + healthPoints; // Name of the sprite based on health points.
        this.armored_sprite = this.scene.add.sprite(this.x, this.y, name); // Add the sprite to the scene.

        if (this.armored_sprite) {
            const diameterOfCircle = 50; // Diameter to fit the sprite within. (50 is the side length)

            // Set graphical layering.
            this.graphics.setDepth(0);
            this.armored_sprite.setDepth(1);

            // Calculate and apply scale factor to fit the sprite within a predefined diameter.
            this.spriteScaleFactor = diameterOfCircle / Math.max(this.armored_sprite.width, this.armored_sprite.height);
            this.armored_sprite.setScale(this.spriteScaleFactor);
        }
    }

    /**
     * Handles the damage taken by the armored triangle, updating its health status,
     * visual representation, and game score accordingly.
     */
    takeDamage() {
        this.healthPoints -= 1; // Decrement health points.
        this.armored_sprite.destroy(); // Remove the current sprite.

        // If health points are depleted
        if (this.healthPoints === 0) {
            // Update the score display.
			this.scene.score += 1;
			this.scene.scoreText.setText('Score: ' + this.scene.score.toString().padStart(this.scene.level.levelPassableScore.toString().length, '0') + "/" + this.scene.level.levelPassableScore);
			 // Remove the shape from the game.
			this.scene.level.shapes.forEach((shape) => {
				if(this === shape)
				{
					this.scene.level.removeShape(shape);
				}
			});
        } else if (this.healthPoints > 0) {
            // If still alive, generate a new sprite reflecting the remaining health points.
            this.generateSprite(this.healthPoints);
        }
    }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Architecture.html">Architecture</a></li><li><a href="Area.html">Area</a></li><li><a href="ArmoredTriangle.html">ArmoredTriangle</a></li><li><a href="ClearFriendlies.html">ClearFriendlies</a></li><li><a href="EscapeMenu.html">EscapeMenu</a></li><li><a href="GameScene.html">GameScene</a></li><li><a href="HealthBar.html">HealthBar</a></li><li><a href="Instructions.html">Instructions</a></li><li><a href="Intangible.html">Intangible</a></li><li><a href="Level.html">Level</a></li><li><a href="LevelSelect.html">LevelSelect</a></li><li><a href="MainMenu.html">MainMenu</a></li><li><a href="Shape.html">Shape</a></li><li><a href="SlowTime.html">SlowTime</a></li><li><a href="Square.html">Square</a></li><li><a href="StealthTriangle.html">StealthTriangle</a></li><li><a href="Triangle.html">Triangle</a></li><li><a href="Upgrade.html">Upgrade</a></li></ul><h3>Global</h3><ul><li><a href="global.html#level1">level1</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Wed Mar 20 2024 01:23:43 GMT-0300 (Atlantic Daylight Saving Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
